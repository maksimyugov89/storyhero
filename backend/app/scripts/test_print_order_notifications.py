"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∑–∞–∫–∞–∑–µ –ø–µ—á–∞—Ç–Ω–æ–π –∫–Ω–∏–≥–∏
"""
import sys
import os
sys.path.insert(0, '/app')

from app.routers.orders import send_order_notifications, PrintOrderCreate
import asyncio

async def test_print_order():
    """–¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∑–∞–∫–∞–∑–µ –ø–µ—á–∞—Ç–∏"""
    print("üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∑–∞–∫–∞–∑–µ –ø–µ—á–∞—Ç–Ω–æ–π –∫–Ω–∏–≥–∏")
    print("=" * 60)
    
    # –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑
    test_order = PrintOrderCreate(
        book_id="12345678-1234-1234-1234-123456789012",
        book_title="–¢–µ—Å—Ç–æ–≤–∞—è –∫–Ω–∏–≥–∞ –¥–ª—è –ø–µ—á–∞—Ç–∏",
        size="A4",
        pages=20,
        binding="—Ç–≤–µ—Ä–¥—ã–π",
        packaging="–ø–æ–¥–∞—Ä–æ—á–Ω–∞—è",
        total_price=1500,
        customer_name="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
        customer_phone="+7 (999) 123-45-67",
        customer_address="–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –¢–µ—Å—Ç–æ–≤–∞—è, –¥. 1",
        comment="–¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"
    )
    
    await send_order_notifications(
        order=test_order,
        order_id="87654321-4321-4321-4321-210987654321",
        user_email="test@example.com"
    )
    
    print("\n‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã (–∏–ª–∏ –ø—Ä–æ–ø—É—â–µ–Ω—ã, –µ—Å–ª–∏ –Ω–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)")
    print("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞ –∏ –ø–æ—á—Ç—É/Telegram")

if __name__ == "__main__":
    asyncio.run(test_print_order())

